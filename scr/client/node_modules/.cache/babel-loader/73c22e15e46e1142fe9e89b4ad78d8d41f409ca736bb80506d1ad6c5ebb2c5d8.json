{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vvvin\\\\Downloads\\\\CN-DA21TTB-HUYNHQUANGVINH-MONGODB-READING-FILL-THE-BLANKS\\\\scr\\\\client\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Avatar, Menu, MenuItem, makeStyles } from '@material-ui/core';\nimport { Link, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  title: {\n    flexGrow: 1\n  },\n  userInfo: {\n    display: 'flex',\n    alignItems: 'center',\n    marginLeft: theme.spacing(2)\n  },\n  username: {\n    marginRight: theme.spacing(2)\n  },\n  avatar: {\n    cursor: 'pointer',\n    backgroundColor: theme.palette.primary.main\n  },\n  link: {\n    color: 'inherit',\n    textDecoration: 'none'\n  }\n}));\nconst Header = () => {\n  _s();\n  const classes = useStyles();\n  const history = useHistory();\n  const [user, setUser] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  useEffect(() => {\n    // Kiểm tra người dùng đã đăng nhập\n    const loggedInUser = localStorage.getItem('user');\n    if (loggedInUser) {\n      setUser(JSON.parse(loggedInUser));\n    }\n  }, []);\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setUser(null);\n    history.push('/login');\n    handleClose();\n  };\n  const handleProfile = () => {\n    history.push('/profile');\n    handleClose();\n  };\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"static\",\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        className: classes.title,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: classes.link,\n          children: \"English Quiz App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), user ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.userInfo,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.username,\n          children: [\"Welcome, \", user.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleMenu,\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            className: classes.avatar,\n            children: user.username.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          anchorEl: anchorEl,\n          keepMounted: true,\n          open: Boolean(anchorEl),\n          onClose: handleClose,\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleProfile,\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        className: classes.link,\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          children: /*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n_s(Header, \"D5iSDCGm1USL7in0+OccfmkCoWk=\", false, function () {\n  return [useStyles, useHistory];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useEffect","AppBar","Toolbar","Typography","IconButton","Avatar","Menu","MenuItem","makeStyles","Link","useHistory","jsxDEV","_jsxDEV","useStyles","theme","title","flexGrow","userInfo","display","alignItems","marginLeft","spacing","username","marginRight","avatar","cursor","backgroundColor","palette","primary","main","link","color","textDecoration","Header","_s","classes","history","user","setUser","anchorEl","setAnchorEl","loggedInUser","localStorage","getItem","JSON","parse","handleMenu","event","currentTarget","handleClose","handleLogout","removeItem","push","handleProfile","position","children","variant","className","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","charAt","toUpperCase","keepMounted","open","Boolean","onClose","_c","$RefreshReg$"],"sources":["C:/Users/vvvin/Downloads/CN-DA21TTB-HUYNHQUANGVINH-MONGODB-READING-FILL-THE-BLANKS/scr/client/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n    AppBar, \r\n    Toolbar, \r\n    Typography, \r\n    IconButton, \r\n    Avatar, \r\n    Menu, \r\n    MenuItem, \r\n    makeStyles \r\n} from '@material-ui/core';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    userInfo: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginLeft: theme.spacing(2),\r\n    },\r\n    username: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    avatar: {\r\n        cursor: 'pointer',\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    link: {\r\n        color: 'inherit',\r\n        textDecoration: 'none',\r\n    }\r\n}));\r\n\r\nconst Header = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [user, setUser] = useState(null);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Kiểm tra người dùng đã đăng nhập\r\n        const loggedInUser = localStorage.getItem('user');\r\n        if (loggedInUser) {\r\n            setUser(JSON.parse(loggedInUser));\r\n        }\r\n    }, []);\r\n\r\n    const handleMenu = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        setUser(null);\r\n        history.push('/login');\r\n        handleClose();\r\n    };\r\n\r\n    const handleProfile = () => {\r\n        history.push('/profile');\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <AppBar position=\"static\">\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" className={classes.title}>\r\n                    <Link to=\"/\" className={classes.link}>\r\n                        English Quiz App\r\n                    </Link>\r\n                </Typography>\r\n\r\n                {user ? (\r\n                    <div className={classes.userInfo}>\r\n                        <Typography className={classes.username}>\r\n                            Welcome, {user.username}\r\n                        </Typography>\r\n                        <IconButton onClick={handleMenu}>\r\n                            <Avatar className={classes.avatar}>\r\n                                {user.username.charAt(0).toUpperCase()}\r\n                            </Avatar>\r\n                        </IconButton>\r\n                        <Menu\r\n                            anchorEl={anchorEl}\r\n                            keepMounted\r\n                            open={Boolean(anchorEl)}\r\n                            onClose={handleClose}\r\n                        >\r\n                            <MenuItem onClick={handleProfile}>Profile</MenuItem>\r\n                            <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n                        </Menu>\r\n                    </div>\r\n                ) : (\r\n                    <Link to=\"/login\" className={classes.link}>\r\n                        <IconButton color=\"inherit\">\r\n                            <Avatar />\r\n                        </IconButton>\r\n                    </Link>\r\n                )}\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACIC,MAAM,EACNC,OAAO,EACPC,UAAU,EACVC,UAAU,EACVC,MAAM,EACNC,IAAI,EACJC,QAAQ,EACRC,UAAU,QACP,mBAAmB;AAC1B,SAASC,IAAI,EAAEC,UAAU,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAMC,SAAS,GAAGL,UAAU,CAAEM,KAAK,KAAM;EACrCC,KAAK,EAAE;IACHC,QAAQ,EAAE;EACd,CAAC;EACDC,QAAQ,EAAE;IACNC,OAAO,EAAE,MAAM;IACfC,UAAU,EAAE,QAAQ;IACpBC,UAAU,EAAEN,KAAK,CAACO,OAAO,CAAC,CAAC;EAC/B,CAAC;EACDC,QAAQ,EAAE;IACNC,WAAW,EAAET,KAAK,CAACO,OAAO,CAAC,CAAC;EAChC,CAAC;EACDG,MAAM,EAAE;IACJC,MAAM,EAAE,SAAS;IACjBC,eAAe,EAAEZ,KAAK,CAACa,OAAO,CAACC,OAAO,CAACC;EAC3C,CAAC;EACDC,IAAI,EAAE;IACFC,KAAK,EAAE,SAAS;IAChBC,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC,CAAC;AAEH,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjB,MAAMC,OAAO,GAAGtB,SAAS,CAAC,CAAC;EAC3B,MAAMuB,OAAO,GAAG1B,UAAU,CAAC,CAAC;EAC5B,MAAM,CAAC2B,IAAI,EAAEC,OAAO,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACwC,QAAQ,EAAEC,WAAW,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACZ;IACA,MAAMyC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACjD,IAAIF,YAAY,EAAE;MACdH,OAAO,CAACM,IAAI,CAACC,KAAK,CAACJ,YAAY,CAAC,CAAC;IACrC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,UAAU,GAAIC,KAAK,IAAK;IAC1BP,WAAW,CAACO,KAAK,CAACC,aAAa,CAAC;EACpC,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACtBT,WAAW,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAMU,YAAY,GAAGA,CAAA,KAAM;IACvBR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAChCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;IAC/Bb,OAAO,CAAC,IAAI,CAAC;IACbF,OAAO,CAACgB,IAAI,CAAC,QAAQ,CAAC;IACtBH,WAAW,CAAC,CAAC;EACjB,CAAC;EAED,MAAMI,aAAa,GAAGA,CAAA,KAAM;IACxBjB,OAAO,CAACgB,IAAI,CAAC,UAAU,CAAC;IACxBH,WAAW,CAAC,CAAC;EACjB,CAAC;EAED,oBACIrC,OAAA,CAACX,MAAM;IAACqD,QAAQ,EAAC,QAAQ;IAAAC,QAAA,eACrB3C,OAAA,CAACV,OAAO;MAAAqD,QAAA,gBACJ3C,OAAA,CAACT,UAAU;QAACqD,OAAO,EAAC,IAAI;QAACC,SAAS,EAAEtB,OAAO,CAACpB,KAAM;QAAAwC,QAAA,eAC9C3C,OAAA,CAACH,IAAI;UAACiD,EAAE,EAAC,GAAG;UAACD,SAAS,EAAEtB,OAAO,CAACL,IAAK;UAAAyB,QAAA,EAAC;QAEtC;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAEZzB,IAAI,gBACDzB,OAAA;QAAK6C,SAAS,EAAEtB,OAAO,CAAClB,QAAS;QAAAsC,QAAA,gBAC7B3C,OAAA,CAACT,UAAU;UAACsD,SAAS,EAAEtB,OAAO,CAACb,QAAS;UAAAiC,QAAA,GAAC,WAC5B,EAAClB,IAAI,CAACf,QAAQ;QAAA;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACf,CAAC,eACblD,OAAA,CAACR,UAAU;UAAC2D,OAAO,EAAEjB,UAAW;UAAAS,QAAA,eAC5B3C,OAAA,CAACP,MAAM;YAACoD,SAAS,EAAEtB,OAAO,CAACX,MAAO;YAAA+B,QAAA,EAC7BlB,IAAI,CAACf,QAAQ,CAAC0C,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC;UAAC;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACblD,OAAA,CAACN,IAAI;UACDiC,QAAQ,EAAEA,QAAS;UACnB2B,WAAW;UACXC,IAAI,EAAEC,OAAO,CAAC7B,QAAQ,CAAE;UACxB8B,OAAO,EAAEpB,WAAY;UAAAM,QAAA,gBAErB3C,OAAA,CAACL,QAAQ;YAACwD,OAAO,EAAEV,aAAc;YAAAE,QAAA,EAAC;UAAO;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAU,CAAC,eACpDlD,OAAA,CAACL,QAAQ;YAACwD,OAAO,EAAEb,YAAa;YAAAK,QAAA,EAAC;UAAM;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAU,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,gBAENlD,OAAA,CAACH,IAAI;QAACiD,EAAE,EAAC,QAAQ;QAACD,SAAS,EAAEtB,OAAO,CAACL,IAAK;QAAAyB,QAAA,eACtC3C,OAAA,CAACR,UAAU;UAAC2B,KAAK,EAAC,SAAS;UAAAwB,QAAA,eACvB3C,OAAA,CAACP,MAAM;YAAAsD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEjB,CAAC;AAAC5B,EAAA,CA1EID,MAAM;EAAA,QACQpB,SAAS,EACTH,UAAU;AAAA;AAAA4D,EAAA,GAFxBrC,MAAM;AA4EZ,eAAeA,MAAM;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}