{"ast":null,"code":"var _jsxFileName = \"C:\\\\Baocao\\\\english-quiz-app\\\\client\\\\src\\\\components\\\\Result.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Typography, Paper, List, ListItem, ListItemText, Button, makeStyles } from '@material-ui/core';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  score: {\n    marginBottom: theme.spacing(3)\n  },\n  difficulty: {\n    marginTop: theme.spacing(2)\n  },\n  downloadButton: {\n    marginTop: theme.spacing(3)\n  }\n}));\nconst Result = ({\n  questions,\n  userAnswers\n}) => {\n  _s();\n  const classes = useStyles();\n  const calculateScoreByDifficulty = () => {\n    const scores = {\n      easy: {\n        correct: 0,\n        total: 0\n      },\n      medium: {\n        correct: 0,\n        total: 0\n      },\n      hard: {\n        correct: 0,\n        total: 0\n      }\n    };\n    questions.forEach((question, index) => {\n      const isCorrect = question.blanks.every((blank, i) => blank.correctAnswer.toLowerCase() === userAnswers[index][i].toLowerCase());\n      scores[question.difficulty].total += question.points;\n      if (isCorrect) {\n        scores[question.difficulty].correct += question.points;\n      }\n    });\n    return scores;\n  };\n  const scores = calculateScoreByDifficulty();\n  const totalScore = Object.values(scores).reduce((acc, curr) => acc + curr.correct, 0);\n  const totalPossible = Object.values(scores).reduce((acc, curr) => acc + curr.total, 0);\n  const handleDownloadCSV = () => {\n    const csvContent = [['Question', 'Your Answer', 'Correct Answer', 'Result'], ...questions.map((question, index) => [question.text, userAnswers[index].join(', '), question.blanks.map(b => b.correctAnswer).join(', '), question.blanks.every((blank, i) => blank.correctAnswer.toLowerCase() === userAnswers[index][i].toLowerCase()) ? 'Correct' : 'Incorrect'])].map(row => row.join(',')).join('\\n');\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = 'quiz-results.csv';\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      className: classes.score,\n      children: [\"Final Score: \", totalScore, \"/\", totalPossible]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      className: classes.difficulty,\n      children: \"Score by Difficulty:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: Object.entries(scores).map(([difficulty, score]) => /*#__PURE__*/_jsxDEV(ListItem, {\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: `${difficulty.charAt(0).toUpperCase() + difficulty.slice(1)}: \n                                     ${score.correct}/${score.total}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)\n      }, difficulty, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      startIcon: /*#__PURE__*/_jsxDEV(GetAppIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 28\n      }, this),\n      className: classes.downloadButton,\n      onClick: handleDownloadCSV,\n      children: \"Download Results (CSV)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n_s(Result, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n_c = Result;\nexport default Result;\nvar _c;\n$RefreshReg$(_c, \"Result\");","map":{"version":3,"names":["React","Typography","Paper","List","ListItem","ListItemText","Button","makeStyles","GetAppIcon","jsxDEV","_jsxDEV","useStyles","theme","root","padding","spacing","score","marginBottom","difficulty","marginTop","downloadButton","Result","questions","userAnswers","_s","classes","calculateScoreByDifficulty","scores","easy","correct","total","medium","hard","forEach","question","index","isCorrect","blanks","every","blank","i","correctAnswer","toLowerCase","points","totalScore","Object","values","reduce","acc","curr","totalPossible","handleDownloadCSV","csvContent","map","text","join","b","row","blob","Blob","type","link","document","createElement","href","URL","createObjectURL","download","click","className","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","entries","primary","charAt","toUpperCase","slice","color","startIcon","onClick","_c","$RefreshReg$"],"sources":["C:/Baocao/english-quiz-app/client/src/components/Result.js"],"sourcesContent":["import React from 'react';\r\nimport { \r\n    Typography, \r\n    Paper, \r\n    List, \r\n    ListItem, \r\n    ListItemText, \r\n    Button,\r\n    makeStyles \r\n} from '@material-ui/core';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        padding: theme.spacing(3),\r\n    },\r\n    score: {\r\n        marginBottom: theme.spacing(3),\r\n    },\r\n    difficulty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    downloadButton: {\r\n        marginTop: theme.spacing(3),\r\n    }\r\n}));\r\n\r\nconst Result = ({ questions, userAnswers }) => {\r\n    const classes = useStyles();\r\n\r\n    const calculateScoreByDifficulty = () => {\r\n        const scores = {\r\n            easy: { correct: 0, total: 0 },\r\n            medium: { correct: 0, total: 0 },\r\n            hard: { correct: 0, total: 0 }\r\n        };\r\n\r\n        questions.forEach((question, index) => {\r\n            const isCorrect = question.blanks.every((blank, i) => \r\n                blank.correctAnswer.toLowerCase() === userAnswers[index][i].toLowerCase()\r\n            );\r\n\r\n            scores[question.difficulty].total += question.points;\r\n            if (isCorrect) {\r\n                scores[question.difficulty].correct += question.points;\r\n            }\r\n        });\r\n\r\n        return scores;\r\n    };\r\n\r\n    const scores = calculateScoreByDifficulty();\r\n    const totalScore = Object.values(scores).reduce((acc, curr) => acc + curr.correct, 0);\r\n    const totalPossible = Object.values(scores).reduce((acc, curr) => acc + curr.total, 0);\r\n\r\n    const handleDownloadCSV = () => {\r\n        const csvContent = [\r\n            ['Question', 'Your Answer', 'Correct Answer', 'Result'],\r\n            ...questions.map((question, index) => [\r\n                question.text,\r\n                userAnswers[index].join(', '),\r\n                question.blanks.map(b => b.correctAnswer).join(', '),\r\n                question.blanks.every((blank, i) => \r\n                    blank.correctAnswer.toLowerCase() === userAnswers[index][i].toLowerCase()\r\n                ) ? 'Correct' : 'Incorrect'\r\n            ])\r\n        ].map(row => row.join(',')).join('\\n');\r\n\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement('a');\r\n        link.href = URL.createObjectURL(blob);\r\n        link.download = 'quiz-results.csv';\r\n        link.click();\r\n    };\r\n\r\n    return (\r\n        <Paper className={classes.root}>\r\n            <Typography variant=\"h4\" className={classes.score}>\r\n                Final Score: {totalScore}/{totalPossible}\r\n            </Typography>\r\n\r\n            <Typography variant=\"h6\" className={classes.difficulty}>\r\n                Score by Difficulty:\r\n            </Typography>\r\n            <List>\r\n                {Object.entries(scores).map(([difficulty, score]) => (\r\n                    <ListItem key={difficulty}>\r\n                        <ListItemText\r\n                            primary={`${difficulty.charAt(0).toUpperCase() + difficulty.slice(1)}: \r\n                                     ${score.correct}/${score.total}`}\r\n                        />\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n\r\n            <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                startIcon={<GetAppIcon />}\r\n                className={classes.downloadButton}\r\n                onClick={handleDownloadCSV}\r\n            >\r\n                Download Results (CSV)\r\n            </Button>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default Result;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}